(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{294:function(e,t,a){e.exports=a(629)},629:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(50),i=a.n(c),o=a(68),l=a(268),u=a(291),s=a(178),m=a(19),d=a.n(m),p=a(80),h=a(18),b=(a(180),{findLocationByLatLng:function(){var e=Object(p.a)(d.a.mark(function e(t,a){var r,n,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=[t,a].join(","),e.next=3,fetch("https://react-assessment-api.herokuapp.com/api/weather/location/search/?lattlong=".concat(r));case 3:if((n=e.sent).ok){e.next=6;break}return e.abrupt("return",{error:{code:n.status}});case 6:return e.next=8,n.json();case 8:return c=e.sent,e.abrupt("return",{data:c});case 10:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),findWeatherbyId:function(){var e=Object(p.a)(d.a.mark(function e(t){var a,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://react-assessment-api.herokuapp.com/api/weather/location/".concat(t,"/"));case 2:if((a=e.sent).ok){e.next=5;break}return e.abrupt("return",{error:{code:a.status}});case 5:return e.next=7,a.json();case 7:return r=e.sent,e.abrupt("return",{data:r});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}),f="COMMAND/FETCH_WEATHER_FOR_LAT_LNG",E="EVENT/API_ERROR_RECEIVED",w="EVENT/WEATHER_DATA_RECEIVED",g="EVENT/WEATHER_ID_RECEIVED",y=d.a.mark(x),v=d.a.mark(k),j=d.a.mark(_),O=function(){var e=Object(p.a)(d.a.mark(function e(){var t,a,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://react-assessment-api.herokuapp.com/api/drone");case 2:if((t=e.sent).ok){e.next=5;break}return e.abrupt("return",{error:{code:t.status}});case 5:return e.next=7,t.json();case 7:return a=e.sent,r=a.data.length-1,e.abrupt("return",{metric:a.data[r].metric,latitude:a.data[r].latitude,longitude:a.data[r].longitude,metricsData:a.data});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();function x(e){var t,a,r,n;return d.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload.id,c.next=3,Object(h.b)(b.findWeatherbyId,t);case 3:if(a=c.sent,r=a.error,n=a.data,!r){c.next=12;break}return c.next=9,Object(h.d)({type:E,code:r.code});case 9:return c.next=11,Object(h.c)();case 11:return c.abrupt("return");case 12:return c.next=14,Object(h.d)({type:w,data:n});case 14:case"end":return c.stop()}},y,this)}function k(e){var t,a,r,n,c,i,o,l,u,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.b)(O);case 2:if(t=e.sent,a=t.error1,r=t.latitude,n=t.longitude,c=t.metric,i=t.metricsData,!a){e.next=15;break}return console.log({error1:a}),e.next=12,Object(h.d)({type:E,code:a.code});case 12:return e.next=14,Object(h.c)();case 14:return e.abrupt("return");case 15:return e.next=17,Object(h.b)(b.findLocationByLatLng,r,n);case 17:if(o=e.sent,l=o.error,u=o.data,!l){e.next=27;break}return console.log({error:l}),e.next=24,Object(h.d)({type:E,code:l.code});case 24:return e.next=26,Object(h.c)();case 26:return e.abrupt("return");case 27:if(s=!!u[0]&&u[0].woeid){e.next=34;break}return e.next=31,Object(h.d)({type:E});case 31:return e.next=33,Object(h.c)();case 33:return e.abrupt("return");case 34:return e.next=36,Object(h.d)({type:g,payload:{id:s,longitude:n,latitude:r,metric:c,metricsData:i}});case 36:case"end":return e.stop()}},v,this)}function _(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)([Object(h.e)(f,k),Object(h.e)(g,x)]);case 2:case"end":return e.stop()}},j,this)}var D=[_],R=a(129),T=d.a.mark(I),L=d.a.mark(S);function I(e){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(h.b)(R.toast.error,"Error Received: ".concat(e.code));case 2:case"end":return t.stop()}},T,this)}function S(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.e)(E,I);case 2:case"end":return e.stop()}},L,this)}var V,W=[S],A=Object(s.a)(W).concat(Object(s.a)(D)),C=a(86),M=a(135),N={loading:!1,weatherId:null,name:"",temperature:"",weather_state_name:"",latitude:null,longitude:null,metric:null,metricsData:[],data:{}},F=(V={},Object(C.a)(V,f,function(e,t){return Object(M.a)({},e,{loading:!0})}),Object(C.a)(V,g,function(e,t){var a=t.payload,r=a.id,n=a.longitude,c=a.latitude,i=a.metric,o=a.metricsData;return Object(M.a)({},e,{weatherId:r,longitude:n,latitude:c,metric:i,metricsData:o})}),Object(C.a)(V,w,function(e,t){var a=t.data;if(!a.consolidated_weather)return e;var r,n=a.consolidated_weather[0],c=n.weather_state_name,i=n.the_temp,o=a.title;return Object(M.a)({},e,{loading:!1,temperatureinCelsius:i,temperatureinFahrenheit:(r=i,9*r/5+32),weather_state_name:c,name:o,data:t.data})}),V),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,a=F[t.type];return"undefined"===typeof a?e:a(e,t)},z=a(84),B=a(34),H=a(290),J=a.n(H),K=(a(312),a(128)),Z=a.n(K),P=a(275),U=a.n(P),q=a(276),Q=a.n(q),Y=a(271),$=a(272),X=a(292),ee=a(273),te=a(293),ae=a(274),re=a.n(ae),ne=Object(B.withStyles)(function(e){return{root:{background:e.palette.secondary.main},label:{color:e.palette.primary.main}}})(re.a),ce=function(e){function t(){return Object(Y.a)(this,t),Object(X.a)(this,Object(ee.a)(t).apply(this,arguments))}return Object(te.a)(t,e),Object($.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.onLoad(),this.interval=setInterval(function(){e.props.onLoad()},4e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.weather_state_name,r=e.temperatureinFahrenheit;return n.a.createElement(ne,{label:"Weather in ".concat(t,": ").concat(a," and ").concat(r,"\xb0")})}}]),t}(r.Component),ie=Object(z.b)(function(e,t){var a=e.weather;return{loading:a.loading,name:a.name,weather_state_name:a.weather_state_name,temperatureinFahrenheit:a.temperatureinFahrenheit,latitude:a.latitude}},function(e){return{onLoad:function(){return e({type:f})}}})(ce),oe=Object(B.withStyles)({grow:{flexGrow:1}})(function(e){var t=e.classes;return n.a.createElement(U.a,{position:"static"},n.a.createElement(Q.a,null,n.a.createElement(Z.a,{variant:"h6",color:"inherit",className:t.grow},"Suhrab Kurbanov's"," EOG React Visualization Assessment"),n.a.createElement(ie,null)))}),le=Object(B.withStyles)(function(e){return{wrapper:{background:e.palette.background.main,height:"100vh"}}})(function(e){var t=e.classes;return n.a.createElement("div",{className:t.wrapper},e.children)}),ue=a(102),se=a.n(ue),me=a(277),de=a.n(me),pe=a(136),he=a.n(pe),be=a(289),fe=a.n(be),Ee=a(103),we=a.n(Ee),ge=a(104),ye=a.n(ge),ve=a(278),je=a.n(ve),Oe=a(101),xe=a(634),ke=a(631),_e=a(633),De=a(609),Re=a(610),Te=a(630),Le=Object(B.withStyles)(function(e){return{root:{background:e.palette.primary.main},title:{color:"white"}}})(de.a),Ie=Object(B.withStyles)(function(e){return{root:{background:e.palette.primary.main},title:{color:"white"}}})(je.a),Se=Object(Oe.withScriptjs)(Object(Oe.withGoogleMap)(function(e){var t=e.latitude,a=e.longitude,r={center:{lat:31.11,lng:-100},zoom:4};return n.a.createElement(se.a,null,n.a.createElement(Oe.GoogleMap,{defaultCenter:r.center,defaultZoom:r.zoom},n.a.createElement(Oe.Marker,{position:{lat:parseFloat(t),lng:parseFloat(a)}})))})),Ve=Object(z.b)(function(e){return{details:e.weather}})(Object(B.withStyles)({card:{margin:"1% 1%"}})(function(e){var t=e.classes,a=e.details,r=a.latitude,c=a.longitude,i=a.metric,o=a.metricsData.map(function(e){return{timestamp:(t=e.timestamp,new Date(t).toLocaleTimeString()),metric:e.metric};var t});return n.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-around"}},n.a.createElement(se.a,{className:t.card},n.a.createElement(Le,{title:"RealTime Visualization of Drone's Location"}),n.a.createElement(he.a,null,n.a.createElement(Se,{latitude:r,longitude:c,googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyCSrmQ2sJuZJGraZ3RYVGtqDaykygpVA6g&v=3.exp&libraries=geometry,drawing,places",loadingElement:n.a.createElement("div",{style:{width:"100%",height:"100%"}}),containerElement:n.a.createElement("div",{style:{width:"650px",height:"400px"}}),mapElement:n.a.createElement("div",{style:{width:"100%",height:"100%"}})}))),n.a.createElement(se.a,{className:t.card},n.a.createElement(Le,{title:"RealTime Graphical Visualization of Drone's Temp"}),n.a.createElement(he.a,null,n.a.createElement(xe.a,{width:650,height:400,data:o,margin:{top:5,right:20,bottom:5,left:0}},n.a.createElement(ke.a,{type:"monotone",dataKey:"metric",stroke:"black"}),n.a.createElement(_e.a,{stroke:"#ccc",strokeDasharray:"5 5"}),n.a.createElement(De.a,{dataKey:"timestamp"}),n.a.createElement(Re.a,{type:"number",domain:["dataMax - 200","auto"]}),n.a.createElement(Te.a,null)))),n.a.createElement(se.a,{className:t.card,style:{minWidth:"700px",height:"500px"}},n.a.createElement(Le,{title:"RealTime Information of the Drone"}),n.a.createElement(he.a,null,n.a.createElement(fe.a,null,n.a.createElement(we.a,null,n.a.createElement(Ie,null,"1"),n.a.createElement(ye.a,{primary:"Temperature: ".concat(i||"249.20709327988456")})),n.a.createElement(we.a,null,n.a.createElement(Ie,null,"2"),n.a.createElement(ye.a,{primary:"Latitude: ".concat(r||"28.492074543952448")})),n.a.createElement(we.a,null,n.a.createElement(Ie,null,"3"),n.a.createElement(ye.a,{primary:"Longitude: ".concat(c||"-95.4928720669904")})),n.a.createElement(we.a,null,n.a.createElement(Ie,null,"4"),n.a.createElement(ye.a,{primary:"Last Received: 2 seconds ago"}))))))})),We=function(){var e=Object(o.combineReducers)({weather:G}),t=Object(l.composeWithDevTools)({}),a=Object(u.a)(),r=Object(o.applyMiddleware)(a),n=Object(o.createStore)(e,t(r));return A.forEach(a.run),n}(),Ae=Object(B.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:"rgb(39,49,66)"},secondary:{main:"rgb(197,208,222)"},background:{main:"rgb(226,231,238)"}}}),Ce=function(e){return n.a.createElement(B.MuiThemeProvider,{theme:Ae},n.a.createElement(J.a,null),n.a.createElement(z.a,{store:We},n.a.createElement(le,null,n.a.createElement(oe,null),n.a.createElement(Ve,null),n.a.createElement(R.ToastContainer,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(Ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[294,2,1]]]);
//# sourceMappingURL=main.57ee6907.chunk.js.map